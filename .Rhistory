n.iter = 100
n.iter = 10
n.dice = 2
sides = 6
sum.dice = FALSE
sapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)})
results = sapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)})
colSums(results)
return(t(results))
t(results)
library(parallel)
results = unname(unlist(mclapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)})))
n.iter = 1e6
results = unname(unlist(mclapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)})))
library(tictoc)
tic()
results = sapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)})
toc()
tic()
results = unname(unlist(mclapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)})))
toc()
head(results)
str(results)
n.iter = 10
unname(unlist(mclapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)})))
mclapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)})
cbind(mclapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)}))
do.call(cbind, mclapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)}))
suits <- c("Diamonds", "Clubs", "Hearts", "Spades")
cards <- c("Ace", "Deuce", "Three", "Four","Five", "Six", "Seven", "Eight", "Nine", "Ten", "Jack", "Queen", "King")
values <- c(0, 2:9, rep(10, 4))
deck <- expand.grid(cards=cards, suits=suits)
deck
deck$value <- values
deck
rep(seq(nrow(deck))
,1)
n.iter = 10
hand.size = 5
lapply(seq_len(n.iter), FUN = function(i) {
sample(1:52, size = hand.size, replace = FALSE)
})
results = lapply(seq_len(n.iter), FUN = function(i) {
deck[sample(1:52, size = hand.size, replace = FALSE),]
})
results
mclapply(seq_len(n.iter), FUN = function(i) {
deck[sample(1:52, size = hand.size, replace = FALSE),]
})
n.iter = 100
tic()
results = lapply(seq_len(n.iter), FUN = function(i) {
deck[sample(1:52, size = hand.size, replace = FALSE),]
})
toc()
tic()
results = mclapply(seq_len(n.iter), FUN = function(i) {
deck[sample(1:52, size = hand.size, replace = FALSE),]
})
toc()
n.iter = 1000
tic()
results = lapply(seq_len(n.iter), FUN = function(i) {
deck[sample(1:52, size = hand.size, replace = FALSE),]
})
toc()
tic()
results = mclapply(seq_len(n.iter), FUN = function(i) {
deck[sample(1:52, size = hand.size, replace = FALSE),]
})
toc()
n.iter = 10000
tic()
results = lapply(seq_len(n.iter), FUN = function(i) {
deck[sample(1:52, size = hand.size, replace = FALSE),]
})
toc()
tic()
results = mclapply(seq_len(n.iter), FUN = function(i) {
deck[sample(1:52, size = hand.size, replace = FALSE),]
})
toc()
n.iter = 100000
tic()
results = lapply(seq_len(n.iter), FUN = function(i) {
deck[sample(1:52, size = hand.size, replace = FALSE),]
})
toc()
tic()
results = mclapply(seq_len(n.iter), FUN = function(i) {
deck[sample(1:52, size = hand.size, replace = FALSE),]
})
toc()
str(results)
str(results[[1]])
?stopifnot
?Error
?errormessage
??errormessage
5.5 %% 1
is.integer(5.0)
sample(1:10, size = 5.0)
n.balls = c(10,10)
n.balls %% 1 == 0
all(n.balls %% 1 == 0)
n.balls = c(10,10.2)
all(n.balls %% 1 == 0)
n.balls = c(10,10)
n.iter = 1e5, n.colors = 2,
n.colors = 2
n.balls = c(10,10)
n.drawn = 5
vapply(seq_len(n.colors), FUN = function(i) rep(i, nballs[i]), 1)
vapply(seq_len(n.colors), FUN = function(i) rep(i, n.balls[i]), 1)
vapply(seq_len(n.colors), FUN = function(i) rep(i, n.balls[i]), c(1))
lapply(seq_len(n.colors), FUN = function(i) rep(i, n.balls[i]))
sapply(seq_len(n.colors), FUN = function(i) rep(i, n.balls[i]))
unlist(lapply(seq_len(n.colors), FUN = function(i) rep(i, n.balls[i])))
replacement = FALSE
n.iter = 10
lapply(seq_len(n.iter), FUN = function(i) {
indices = sample(seq_len(total.balls), size = n.drawn, replace = replacement)
})
total.balls = sum(n.balls)
lapply(seq_len(n.iter), FUN = function(i) {
indices = sample(seq_len(total.balls), size = n.drawn, replace = replacement)
})
roll.dice = function(n.iter = 1e5, n.dice = 1, sides = 6,
sum.dice = FALSE, parallel = FALSE) {
stopifnot(n.iter %% 1 == 0 & n.iter > 0, "n.iter must be a positive integer")
stopifnot(n.dice %% 1 == 0 & n.dice > 0, "n.dice must be a positive integer")
stopifnot(sides %% 1 == 0 & sides > 0, "sides must be a positive integer")
if(!parallel) {
results = sapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)})
} else {
results = do.call(cbind, mclapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)}))
}
if(sum.dice) {return(colSums(results))}
return(t(results))
}
roll.dice()
1e5 %% 1
n.iter > 0
n.iter %% 1 == 0 & n.iter > 0
roll.dice(n.iter = 10)
n.iter = 10
n.iter %% 1 == 0 & n.iter > 0
roll.dice = function(n.iter = 1e5, n.dice = 1, sides = 6,
sum.dice = FALSE, parallel = FALSE) {
stopifnot(n.iter %% 1 == 0 & n.iter > 0, "n.iter must be a positive integer")
stopifnot(n.dice %% 1 == 0 & n.dice > 0, "n.dice must be a positive integer")
stopifnot(sides %% 1 == 0 & sides > 0, "sides must be a positive integer")
if(!parallel) {
results = sapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)})
} else {
results = do.call(cbind, mclapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)}))
}
if(sum.dice) {return(colSums(results))}
return(t(results))
}
n.iter %% 1 == 0 & n.iter > 0
roll.dice(n.iter = 10)
roll.dice = function(n.iter = 1e5, n.dice = 1, sides = 6,
sum.dice = FALSE, parallel = FALSE) {
stopifnot(n.iter %% 1 != 0 & n.iter <= 0, "n.iter must be a positive integer")
stopifnot(n.dice %% 1 == 0 & n.dice > 0, "n.dice must be a positive integer")
stopifnot(sides %% 1 == 0 & sides > 0, "sides must be a positive integer")
if(!parallel) {
results = sapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)})
} else {
results = do.call(cbind, mclapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)}))
}
if(sum.dice) {return(colSums(results))}
return(t(results))
}
roll.dice(n.iter = 10)
roll.dice = function(n.iter = 1e5, n.dice = 1, sides = 6,
sum.dice = FALSE, parallel = FALSE) {
stopifnot(n.iter %% 1 == 0 & n.iter > 0)
stopifnot(n.dice %% 1 == 0 & n.dice > 0, "n.dice must be a positive integer")
stopifnot(sides %% 1 == 0 & sides > 0, "sides must be a positive integer")
if(!parallel) {
results = sapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)})
} else {
results = do.call(cbind, mclapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)}))
}
if(sum.dice) {return(colSums(results))}
return(t(results))
}
roll.dice(n.iter = 10)
roll.dice = function(n.iter = 1e5, n.dice = 1, sides = 6,
sum.dice = FALSE, parallel = FALSE) {
stopifnot(n.iter %% 1 == 0 & n.iter > 0)
stopifnot(n.dice %% 1 == 0 & n.dice > 0)
stopifnot(sides %% 1 == 0 & sides > 0)
if(!parallel) {
results = sapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)})
} else {
results = do.call(cbind, mclapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)}))
}
if(sum.dice) {return(colSums(results))}
return(t(results))
}
roll.dice(n.iter = 10)
roll.dice = function(n.iter = 1e5, n.dice = 1, sides = 6,
sum.dice = FALSE, parallel = FALSE) {
stopifnot(n.iter %% 1 == 0 & n.iter > 0)
stopifnot(n.dice %% 1 == 0 & n.dice > 0)
stopifnot(sides %% 1 == 0 & sides > 0)
if(!parallel) {
results = sapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)})
} else {
results = do.call(cbind, mclapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)}))
}
if(sum.dice) {return(colSums(results))}
return(matrix(results, ncol = n.dice))
}
roll.dice(n.iter = 10)
roll.dice(n.iter = 10, sum.dice = TRUE)
roll.dice = function(n.iter = 1e5, n.dice = 1, sides = 6,
sum.dice = FALSE, parallel = FALSE) {
stopifnot(n.iter %% 1 == 0 & n.iter > 0)
stopifnot(n.dice %% 1 == 0 & n.dice > 0)
stopifnot(sides %% 1 == 0 & sides > 0)
if(!parallel) {
results = sapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)})
} else {
results = do.call(cbind, mclapply(seq_len(n.iter), FUN = function(i) {sample(seq_len(sides), size = n.dice, rep = TRUE)}))
}
if(sum.dice & n.dice > 1) {return(colSums(results))}
return(matrix(results, ncol = n.dice))
}
roll.dice(n.iter = 10, sum.dice = TRUE)
roll.dice(n.iter = 10, sum.dice = TRUE, n.dice = 2)
roll.dice(n.iter = 10, n.dice = 2)
mclapply(seq_len(n.iter), FUN = function(i) {
indices = sample(seq_len(total.balls), size = n.drawn, replace = replacement)
urn[indices]
})
urn = unlist(lapply(seq_len(n.colors), FUN = function(i) rep(i, n.balls[i])))
mclapply(seq_len(n.iter), FUN = function(i) {
indices = sample(seq_len(total.balls), size = n.drawn, replace = replacement)
urn[indices]
})
results = mclapply(seq_len(n.iter), FUN = function(i) {
indices = sample(seq_len(total.balls), size = n.drawn, replace = replacement)
urn[indices]
})
table(results)
str(results)
str(table(results[[1]]))
table(results[[1]])
?table
sapply(results, FUN = function(x) {
sapply(seq_len(n.colors), function(i) sum(x == i))
})
t(sapply(results, FUN = function(x) {
sapply(seq_len(n.colors), function(i) sum(x == i))
}))
t(sapply(results, FUN = function(x) {
vapply(seq_len(n.colors), function(i) sum(x == i),1)
}))
return(do.call(rbind, results))
results
do.call(rbind, results)
t(sapply(results, FUN = function(x) {
vapply(seq_len(n.colors), function(i) sum(x == i),1)
}))
getwd()
documents()
library(roxygen2)
documents()
library(devtools)
document()
library(Clancy.Functions)
library(Clancy.Functions)
library(Clancy.Functions)
roll.dice()
